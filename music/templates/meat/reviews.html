{% extends 'layout.html' %}

{% block content %}

<main id="main">
    <header id="track-header">
        <h1>{{ track.title }}</h1>
    </header>


    <body>
        <h1>CompSci 235 2022 - MY MUSIC LIBRARY</h1>
        <h2>{{ track.title }}</h2>
        <p>Track Duration: <b>{{ track.track_duration }}</b></p>
        <p>Track URL: {{ track.track_url }}</p>
        <p>Genres: {{ track.genres }}</p>
        <p>Artist: {{ track.artist }}</p>
        <p>Album: {{ track.album }}</p>
        <!-- Maybe be able to click on Artist and Album? -->

        <!-- Review -->
        <h1>Reviews</h1>
        
            <header>
                <h1>{{date}}</h1>
            </header>
                <div class="form-wrapper">
                    <form action="{{handler_url}}" method="post">
                        {{form.track_id}} <!-- Need to include this hidden field as it tracks the track being reviewed. -->
                        {{form.csrf_token}} <!-- Need to include this token - Flask WTForms requires it. -->
                        <br>
                        <div class ="form-field">{{form.review.label}} </br>{{form.review(size = 100, placeholder="Type your review", class="textarea", cols="50", rows="6", wrap="hard")}}
                            {% if form.review.errors %}
                                <ul class="errors">
                                {% for error in form.review.errors %}
                                    <li>{{error}}</li>
                                {% endfor %}
                                </ul>
                            {% endif %}
                        </div>
                        {{ form.submit }}
                    </form>
                </div>
                <div style="clear:both">
                    {% for review in track.reviews %}
                        <p>{{review.review_text}}</p>
                    {% endfor %}
                </div>
    </body>
</main>
{% endblock %}